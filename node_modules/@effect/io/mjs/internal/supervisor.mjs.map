{"version":3,"file":"supervisor.mjs","names":["MutableRef","SortedSet","core","SupervisorSymbolKey","SupervisorTypeId","Symbol","for","supervisorVariance","_T","_","ProxySupervisor","constructor","underlying","value0","_a","value","onStart","context","effect","parent","fiber","onEnd","onEffect","onSuspend","onResume","map","f","zip","right","Zip","left","_b","Track","_c","fibers","Set","sync","Array","from","_context","_effect","_parent","add","_value","delete","_fiber","onRun","execution","Const","_d","FibersIn","ref","_e","get","set","remove","unsafeTrack","track","fromEffect","none","unit","fibersIn"],"sources":["../../src/internal/supervisor.ts"],"sourcesContent":[null],"mappings":"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"}