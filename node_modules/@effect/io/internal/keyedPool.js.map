{"version":3,"file":"keyedPool.js","names":["Duration","_interopRequireWildcard","require","Equal","_Function","Hash","HashMap","MutableRef","Option","_Pipeable","Predicate","core","fiberRuntime","pool","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","KeyedPoolSymbolKey","KeyedPoolTypeId","Symbol","for","exports","KeyedPoolMapValueSymbol","keyedPoolVariance","_K","_","_E","_A","KeyedPoolImpl","constructor","getOrCreatePool","activePools","_a","flatMap","invalidate","item","forEachSequentialDiscard","pipe","pipeArguments","arguments","Complete","_tag","_b","symbol","combine","hash","string","u","isComplete","equals","isTagged","Pending","deferred","_c","isPending","makeImpl","min","max","timeToLive","map","context","fiberId","scope","suspend","value","getOrUndefined","undefined","uninterruptibleMask","restore","deferredUnsafeMake","previous","update","matchCauseEffect","onFailure","cause","current","remove","zipRight","deferredFailCause","failCause","onSuccess","as","deferredSucceed","scopeExtend","makeWithTTL","acquire","provideContext","getOrElse","infinity","succeed","deferredAwait","forEachSequential","Array","from","values","all","sync","make","empty","scopeMake","options","size","none","makeWith","decode","some","makeWithTTLBy","dual","self"],"sources":["../src/internal/keyedPool.ts"],"sourcesContent":[null],"mappings":"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"}