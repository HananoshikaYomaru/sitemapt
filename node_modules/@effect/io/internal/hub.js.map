{"version":3,"file":"hub.js","names":["Chunk","_interopRequireWildcard","require","_Function","MutableQueue","MutableRef","Option","_Pipeable","cause","core","executionStrategy","fiberRuntime","queue","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","addSubscribers","subscription","pollers","subscribers","Set","add","removeSubscribers","delete","size","bounded","requestedCapacity","flatMap","atomicHub","makeHub","BackPressureStrategy","sync","makeBoundedHub","exports","dropping","DroppingStrategy","sliding","SlidingStrategy","unbounded","makeUnboundedHub","capacity","self","isFull","isEmpty","shutdown","isShutdown","awaitShutdown","publish","dual","value","publishAll","elements","subscribe","ensureCapacity","BoundedHubSingle","nextPow2","BoundedHubPow2","BoundedHubArb","UnboundedHub","makeSubscription","hub","strategy","map","deferredMake","deferred","unsafeMakeSubscription","make","shutdownHook","shutdownFlag","SubscriptionImpl","constructor","publisherIndex","subscriberCount","subscribersIndex","array","Array","from","length","index","chunk","fromIterable","n","available","forHub","Math","min","iteratorIndex","publishAllIndex","a","unsafeGet","drop","slide","BoundedHubArbSubscription","subscriberIndex","unsubscribed","max","poll","default_","elem","pollUpTo","empty","toPoll","builder","pollUpToIndex","push","unsubscribe","mask","BoundedHubPow2Subscription","pipe","pipeArguments","arguments","unsafeHead","BoundedHubSingleSubscription","of","Node","next","publisherHead","Number","MAX_SAFE_INTEGER","publisherTail","UnboundedHubSubscription","subscriberHead","loop","polled","i","_a","dequeueVariance","isActive","suspend","interrupt","succeed","unsafeSize","none","some","uninterruptible","withFiberRuntime","state","asUnit","whenEffect","deferredSucceed","zipRight","unsafeOnHubEmptySpace","forEachParUnbounded","unsafePollAllQueue","d","deferredInterruptWith","id","deferredAwait","take","message","EmptyMutableQueue","deferredUnsafeMake","onInterrupt","unsafeRemove","offer","unsafeCompletePollers","takeAll","as","unsafePollAllSubscription","takeUpTo","unsafePollN","takeBetween","takeRemainderLoop","DequeueTypeId","acc","bs","remaining","b","append","appendAll","HubImpl","scope","_b","enqueueVariance","close","exitInterrupt","unsafeCompleteSubscribers","handleSurplus","unsafeOffer","surplus","unsafePublishAll","acquire","tap","all","fork","sequential","tuple","addFinalizer","acquireRelease","exit","offerAll","EnqueueTypeId","scopeMake","unsafeMakeHub","Map","nextPow","ceil","log","pow","InvalidHubCapacityException","unsafeCompleteDeferred","deferredUnsafeDone","unsafeOfferAll","POSITIVE_INFINITY","filter","publishers","fiberId","forEachParUnboundedDiscard","_","last","unit","keepPolling","publisher","published","prepend","unsafeStrategyCompletePollers","unsafeStrategyCompleteSubscribers","iterator","Symbol","done","_hub","_subscribers","_elements","_isShutdown","unsafeSlidingPublish","it","pub","poller","pollResult","pollersSet"],"sources":["../src/internal/hub.ts"],"sourcesContent":[null],"mappings":"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"}